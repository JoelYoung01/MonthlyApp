{
  // See https://go.microsoft.com/fwlink/?LinkId=733558
  // for the documentation about the tasks.json format
  "version": "2.0.0",
  "tasks": [
    // ================================
    //           Setup Tasks
    // ================================
    {
      "label": "copy .env",
      "type": "shell",
      "command": "cmd",
      "args": ["/c", "if not exist backend\\.env (copy backend\\.env.template backend\\.env)"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "group": "Setup"
      },
      "problemMatcher": []
    },

    // ================================
    //            Dev Tasks
    // ================================
    {
      "label": "pnpm: dev",
      "type": "shell",
      "command": "pnpm",
      "args": ["dev"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "group": "Dev"
      },
      "problemMatcher": []
    },
    {
      "label": "fastapi: dev",
      "type": "shell",
      "command": "venv/Scripts/fastapi.exe",
      "args": ["dev", "api/main.py"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "group": "Dev"
      },
      "problemMatcher": []
    },

    {
      "label": "Run Local Dev",
      "dependsOn": ["pnpm: dev", "fastapi: dev"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "group": "Dev"
      },
      "problemMatcher": []
    }
  ]
}
